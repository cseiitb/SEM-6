
<!-- saved from url=(0098)https://www.cse.iitb.ac.in/~shivaram/teaching/cs344+386-s2017/resources/la-7/lab-assignment-7.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<link rel="stylesheet" type="text/css" href="./CS 386_ Lab Assignment 7_files/style.css">
<title>CS 386: Lab Assignment 7</title>
<style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>

<body><div id="MathJax_Message" style="display: none;"></div>
<script src="./CS 386_ Lab Assignment 7_files/MathJax.js" id=""></script>

<center>
<h2>
CS 386: Lab Assignment 7
</h2>
(TA in charge: Vaibhav Bhosale)
</center>

<p><b>Acknowledgement:</b> This lab assignment is based
on <a href="http://ai.berkeley.edu/search.html">Project
1: Search in Pacman	</a>, which is a part of a recent offering of CS188
at UC Berkeley. The code and resources provided here are almost
entirely drawn from the Berkeley project. We thank the authors at
Berkeley for making their project available to the public.</p>

<p>Pacman lives in a shiny blue world of twisting corridors and tasty
round treats. Navigating this world efficiently will be Pacman's first
step in mastering his domain. We use this game as a model to
understand how different search algorithms work. In this assignment,
your Pacman agent will find paths through his maze world, both to
reach a particular location and to collect food efficiently. You will
build general search algorithms and apply them to Pacman
scenarios.</p>

<h3>Code</h3> 

<p>The base code for this assignment is available
in <a href="https://www.cse.iitb.ac.in/~shivaram/teaching/cs344+386-s2017/resources/la-7/search.zip">this
zip file</a>. The following files are the most relevant ones for you;
you will only have to edit <code>search.py</code>
and <code>searchAgents.sh</code>.</p>

 <table style="width:100%">

  <tbody><tr>
    <td><b>File Name</b></td>
    <td><b>Description</b></td>
  </tr>

  <tr>
    <td>search.py</td>
    <td>Where all of your search algorithms will reside.</td>
  </tr>

  <tr>
    <td>searchAgents.py</td>
    <td>Where all of your search-based agents will reside.</td>
  </tr>

  <tr>
    <td>pacman.py</td>
    <td>The main file that runs Pacman games. This file describes a Pacman GameState type, which you use in this project.</td>
  </tr>

  <tr>
    <td>game.py</td>
    <td>The logic behind how the Pacman world works. This file describes several supporting types like AgentState, Agent, Direction, and Grid.</td>
  </tr>

  <tr>
    <td>util.py</td>
    <td>Useful data structures for implementing search algorithms.</td>
  </tr>
</tbody></table>

<p>After downloading the code, unzipping it, and changing to the directory, you should be able to play a game of Pacman by running the following command.</p>
<p><code>python pacman.py</code></p>
<p><code>pacman.py</code> supports a number of options (e.g. <code>--layout</code> or <code>-l</code>). You can see the list of all options and their default values via <code>python pacman.py -h</code>.

</p><p>All the commands you will need in this assignment can be found in the file <code>commands.txt</code> for easy copying and pasting.</p>

<h3>Task 0: Understanding the Code Base (Ungraded)</h3> 

<p>In <code>searchAgents.py</code>, you will find a fully implemented <code>SearchAgent</code>, which plans out a path through Pacman's world and then executes that path step-by-step. The search algorithms for formulating a plan are not implemented: your task is precisely that of implementing them.</p>

<p>First, test that the <code>SearchAgent</code> is working correctly by running the following command.</p>
<pre>python pacman.py -l tinyMaze -p SearchAgent -a fn=tinyMazeSearch</pre>
<p>The command above tells the <code>SearchAgent</code> to use <code>tinyMazeSearch</code> as its search algorithm. This algorithm is implemented in <code>search.py</code>. Pacman should navigate the maze successfully.</p>
<p>Now you will implement different search algorithms to guide pacman to the goal. Remember that a search node must contain not only a state but also the information necessary to reconstruct the path (plan) which gets to that state from the start state.</p>
<p><b><em>Important note:</em></b> All of your search functions need to return a list of <em>actions</em> that will lead the agent from the start to the goal. These actions all have to be legal moves (valid directions, no moving through walls).</p>
<p><b><em>Important note:</em></b> Make sure to <b>use</b> the <code>Stack</code>, <code>Queue</code> and <code>PriorityQueue</code> data structures provided to you in <code>util.py</code>! These data structure implementations have particular properties that are required for compatibility with the autograder.</p>
<p><em>Hint:</em> The algorithms are quite similar. Algorithms for DFS, BFS, UCS, and A* differ only in the details of how the fringe is managed. So, concentrate on getting DFS right and the rest should be relatively straightforward. Indeed, one possible implementation requires only a single generic search method which is configured with an algorithm-specific queuing strategy. (Your implementation need <em>not</em> be of this form to receive full credit.)</p>


<h3>Task 1: Depth First Search (2 marks)</h3> 

<p>Implement the depth-first search (DFS) algorithm in the <code>depthFirstSearch</code> function in <code>search.py</code>.</p>
<p>Your code should be able to solve these tasks quickly.</p>
<code>python pacman.py -l tinyMaze -p SearchAgent</code><br>
<code>python pacman.py -l mediumMaze -p SearchAgent</code><br>
<code>python pacman.py -l bigMaze -z .5 -p SearchAgent</code>

<p><b>Evaluation:</b> Run the following command to test your
solution: <code>python autograder.py -q q1</code>. The first 4 test
cases are basic test cases. Together they account for 1 mark. If any
one of them fails, the fifth test case will not be evaluated. The
fifth test case accounts for 1 mark.</p>

<h3>Task 2: Breadth First Search (2 marks)</h3> 

<p>Implement the breadth-first search (BFS) algorithm in the <code>breadthFirstSearch</code> function in <code>search.py</code>.</p>
<p>Your code should be able to solve these tasks quickly.</p>
<code>python pacman.py -l mediumMaze -p SearchAgent -a fn=bfs</code><br>
<code>python pacman.py -l bigMaze -p SearchAgent -a fn=bfs -z .5</code><br>

<p><b>Evaluation:</b> Run the following command to test your
solution: <code>python autograder.py -q q2</code>. The first 4 test
cases are basic test cases. Together they account for 1 mark. If any
one of them fails, the fifth test case will not be evaluated. The
fifth test case accounts for 1 mark.</p>

<h3>Task 3: Uniform Cost Search (2 marks)</h3>

<p>BFS tries to minimise the number of actions taken, but not necessarily the least-cost path. By varying the cost function, the Pacman can be encouraged to explore different paths. For example, the ghost-ridden dangerous areas can be charged more whereas the food-rich areas be charged lesser.</p>
<p>Implement the uniform-cost search (UCS) algorithm in the <code>uniformCostSearch</code> function in <code>search.py</code> (the agents and the cost functions are provided to you).</p>
<p>You code should be able to solve these three situations successfully.</p>

<code>python pacman.py -l mediumMaze -p SearchAgent -a fn=ucs</code><br>
<code>python pacman.py -l mediumDottedMaze -p StayEastSearchAgent</code><br>
<code>python pacman.py -l mediumScaryMaze -p StayWestSearchAgent</code><br>

<p><b>Evaluation:</b> Run the following command to test your
solution: <code>python autograder.py -q q3</code>. The first 5 test
cases are basic test cases. Together they account for 1 mark. If any
one of them fails, the next two test cases will not be evaluated. The
fifth and sixth test cases will be evaluated for half a mark each.</p>


<h3>Task 4: A* Search (3 marks)</h3>
<p>Implement the A* search algorithm in the <code>aStarSearch</code> function in <code>search.py</code>. A* takes a heuristic function as an argument. </p>
<p>You need to test your A* implementation on the original problem of finding a path through a maze to a fixed position using the Manhattan distance heuristic (already implemented).</p>
<code>python pacman.py -l bigMaze -z .5 -p SearchAgent -a fn=astar,heuristic=manhattanHeuristic</code>

<p><b>Evaluation:</b> Run the following command to test your
solution: <code>python autograder.py -q q4</code>. The first 5 test
cases are basic test cases. Together they account for 1.5 marks. If
any one of them fails, the sixth test case will not be evaluated. The
sixth test case will be evaluated for 1.5 marks.</p>

<h3>Task 5: Finding all the Corners (3 marks)</h3>
<p>To understand the real power of A* algorithm, let's try it on a difficult problem. In corner mazes, each of the four corners has a dot. Our new search problem is to find the shortest path through the maze that touches all four corners.</p>
<p>Note: For some mazes the shortest path does not always go to the closest food first.</p>

<p>Implement the <code>CornersProblem</code> in <code>searchAgents.py</code>. You will need to choose a state representation that encodes all the information necessary to detect whether all four corners have been reached. Now, your search agent should solve:</p>
<code>python pacman.py -l tinyCorners -p SearchAgent -a fn=bfs,prob=CornersProblem</code><br>
<code>python pacman.py -l mediumCorners -p SearchAgent -a fn=bfs,prob=CornersProblem</code>

<p><b>Evaluation:</b> Run the following command to test your
solution: <code>python autograder.py -q q5</code>. The code will be
tested on two layouts. The tiny layout accounts for 1 mark and the
medium layout for 2 marks.</p>

<h3>Task 6: Corners Problem Heuristic (3 marks)</h3>
<p>Implement a non-trivial, consistent heuristic for the <code>CornersProblem</code> in <code>cornersHeuristic</code>. Now your search agent should solve this task.</p>
<code>python pacman.py -l mediumCorners -p SearchAgent -a fn=aStarSearch,prob=CornersProblem,heuristic=cornersHeuristic -z 0.5</code>

<p><b>Evaluation:</b> Your heuristic must be a non-trivial, consistent
heuristic to receive any points. Make sure that your heuristic returns
0 at every goal state and never returns a negative value. You will be
graded based on the number of nodes your heuristic expands.</p>

<p>Run the following command to test your solution: <code>python
autograder.py -q q6</code>. The first 3 test cases are basic test
cases. Together they account for 1 mark. If any one of them fails, the
fourth test case will not be evaluated. The fourth test case will be
evaluated for 2 marks. You will receive 2 marks if the number of nodes
expanded does not exceed 1200; 1 mark if the number of nodes expanded
is between 1201 and 1600; 0 marks otherwise.</p>




<h3>Submission</h3> 

<p>You are not done yet! Place all files in which you have written
code in or modified in a directory named your roll number (say
12345678). Tar and Gzip the directory to produce a single compressed
file (la7-12345678.tar.gz). It must contain the following files:</p>

<ol>
  <li><code>search.py                      </code></li>
  <li><code>searchAgents.py                  </code></li>
</ol>

<p>Submit this compressed file on Moodle, under Lab Assignment 7.</p>


</body></html>